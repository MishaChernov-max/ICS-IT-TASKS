---
order: 5.3
title: Фильтр по содержимому
---

:::note Экспериментальная функция

Включите ее на главной странице в блоке «Экспериментальные функции».

:::

Фильтрация используется, если для одного каталога необходимо создать несколько сборок документации: например, сборки по роли читателя или типу продукта. Фильтровать можно статьи и абзацы текста.

## Создать фильтр

Для старта создайте [свойства](./../article/properties/_index) с типом «Флаг» для каждой сборки. Эти названия позже будут указывать, какая статья и какой абзац попадут в сборку. Также это название отобразится в URL каталога на портале для чтения.

Например, для каталога с проектом внедрения можно создать свойства с ролями сотрудников.

-  KAM -- «Для аккаунт-менеджеров».

-  Dev -- «Для разработчиков».

-  All -- «Весь каталог».

[image:./filter.png:::0,0,100,63.33333333333333:::2880px:1800px]

После этого укажите эти свойства в настройках каталога.

![](./filter-2.png){width=2880px height=1800px}

## Задать фильтры

### На статьях

На всех в статьях в каталоге необходимо указать свойство, в каких сборках эта статья отобразится.

-  Фильтр не наследуется: необходимо указывать как для раздела, так и для всех статей в разделе.

-  Если фильтр не указан -- статья не отобразится ни в одной из сборок.

-  Если статья должна попасть во все сборки -- необходимо указать все фильтры.

[image:./filter-3.png::Статья попадет в сборки «Для разработчиков» и  «Весь каталог». Но не попадет в сборку «Для аккаунт-менеджеров»:0,0:::square,70.5247,2.2222,9.9537,9.0741,,top-left:2880px]

### На абзацах

Вы можете поделить абзацы текста внутри статьи, чтобы они попадали только в необходимые сборки. Для этого создайте [вкладки](./../article/editor/other-elements/tabs) и назовите их в точном соответствии с фильтрами на статьях.

-  Если название вкладки отличается от названия фильтра («dev» вместо «Dev»), фильтрация не сработает.

-  Если есть только одна вкладка -- она отобразится только в одной сборке.

[image:./filter-4.png::Статья доступна во всех сборках, но вводная информация о регламенте поддержки доступна только в сборке «Для аккаунт-менеджеров»:0,0,100,52.09876543209877:::2880px:1800px]

## Включить фильтр

Вы можете проверить фильтрацию контента прямо в приложении: в правой панели кликните «Фильтр» и выберите название сборки.

-  Фильтр можно включить в приложении и на портале для чтения.

-  Указание на выбранный фильтр добавляется в URL каталога.

[image:./filter-5.png::Выбран фильтр «Для аккаунт-менеджеров»:0,0,100,42.839506172839506:::2880px:1800px]

## Известные ограничения

Функции «Фильтрация» и «Публикация в облако Gramax» -- экспериментальные. Если вы публикуете каталог [в облако Gramax](./../doc-portal/cloud-gramax), необходимо на портале в консоли прописать  `window.localStorage.setItem("enabled-features", "filtered-catalog")` -- только после этого фильтры станут доступны для переключения.

Такого ограничения нет, если вы публикуете портал для чтения [с помощью Docker](./../doc-portal/deploy-with-docker/deploy-docportal-on-own-server) или в виде [статического сайта](./../doc-portal/static-site-generator).